<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
					function OptanonWrapper() { }
				</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Change events</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1639761219"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1639761219"></script><script type="text/javascript" src="docdata/toc.js?ts=1639761219"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1639761219"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1639761219">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2020.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-Change-Events.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-Change-Events.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-Change-Events.html">日本語</a></li>
<li><a href="/es/current/Manual/UIE-Change-Events.html">Español</a></li>
<li><a href="/kr/current/Manual/UIE-Change-Events.html">한국어</a></li>
<li><a href="/ru/current/Manual/UIE-Change-Events.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2020.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UIE-Change-Events.html">English</a></li>
<li><a href="/cn/current/Manual/UIE-Change-Events.html">中文</a></li>
<li><a href="/ja/current/Manual/UIE-Change-Events.html">日本語</a></li>
<li><a href="/es/current/Manual/UIE-Change-Events.html">Español</a></li>
<li><a href="/kr/current/Manual/UIE-Change-Events.html">한국어</a></li>
<li><a href="/ru/current/Manual/UIE-Change-Events.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html"> Unity User Manual 2020.3 (LTS)</a></li>
<li><a href="UIToolkits.html"> Creating user interfaces (UI)</a></li>
<li><a href="UIElements.html"> UI Toolkit</a></li>
<li><a href="UIE-Events.html"> Event types</a></li>
<li><a href="UIE-Events-Reference.html"> Event reference</a></li>
<li> Change events</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-Capture-Events.html"></a></span><div class="tip"> Capture events</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-Command-Events.html"></a></span><div class="tip"> Command events</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Change events</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>When the value of an element changes, a <code>ChangeEvent</code> is sent. This is typically sent when a value in a field of a control changes. For example, when the user toggles a checkbox.</p>

<p>The <code>ChangeEvent</code> is a typed event, and contains both the previous and the new value of the visual element.</p>

<p>The event triggers after a change assigns a new value to a visual element. You can’t cancel change events to prevent a value change on a visual element.</p>

<p>The base class for <code>ChangeEvent</code> is the <a href="../ScriptReference/UIElements.EventBase.html">EventBase</a> class.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Event</strong></th>
	<th style="text-align:left;"><strong>Description</strong></th>
	<th style="text-align:left;"><strong>Trickles down</strong></th>
	<th style="text-align:left;"><strong>Bubbles up</strong></th>
	<th style="text-align:left;"><strong>Cancellable</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><a href="../ScriptReference/UIElements.ChangeEvent_1.html">ChangeEvent</a></td>
	<td style="text-align:left;">A generic event sent when the value of an element changes.</td>
	<td style="text-align:left;">✔</td>
	<td style="text-align:left;">✔</td>
	<td style="text-align:left;"></td>
</tr>
</tbody>
</table>

<h2>Unique properties</h2>

<p>
<strong><code>previousValue</code></strong>: The previous value of the target control.</p>

<p>
<strong><code>newValue</code></strong>: The new value of the target control.</p>

<h2>Event List</h2>

<h3>ChangeEvent</h3>

<p>
<code>ChangeEvent</code> is a notification event that allows you to react to the value change of a visual element. For example, when you toggle a checkbox to mute music in a game, the game should stop all music.</p>

<p>This event applies to all controls that implement the <code>INotifyValueChanged&lt;T&gt;</code>, where <code>&lt;T&gt;</code> is the type of the <code>ChangeEvent</code>. This event is also used internally to update properties within objects linked to the UI via <a href="UIE-Binding.html">Bindings</a>.</p>

<p>It fires even when the value of a control is set by code. You can modify the value on a control without firing the <code>ChangeEvent</code> by calling <code>SetValueWithoutNotify</code> in the <code>INotifyValueChange&lt;T&gt;</code> interface.</p>

<p>You can register a callback function to receive a <code>ChangeEvent</code> in two ways:</p>

<ol>
<li>Call <code>RegisterCallback&lt;&gt;()</code> on an visual element</li>
<li>Call <code>RegisterValueChangedCallback()</code> on a visual element deriving from <code>INotifyValueChange&lt;T&gt;</code>
</li>
</ol>

<p>Registering a callback via RegisterCallback works on all visual elements, regardless of whether they store internal values or not. If you want to listen to any changes that happen in the child controls of a parent element, this is the method to use.</p>

<p>Because <code>ChangeEvent</code> is a typed event, you must specify the type when registering the event. The code below demonstrates registering and receiving a <code>ChangeEvent</code> of the type <code>bool</code>.</p>

<pre><code class="lang-csharp">// Registering the callback
rootVisualElement.RegisterCallback&lt;ChangeEvent&lt;bool&gt;&gt;(OnBoolChangedEvent);
</code></pre>

<pre><code class="lang-csharp">// Event callback
private void OnBoolChangedEvent(ChangeEvent&lt;bool&gt; evt) 
{ 
    // Handling code
}
</code></pre>

<p>Elements that hold values, such as toggles and integer fields, implement the <code>INotifyValueChange&lt;T&gt;</code> interface. It’s possible to register a callback on these elements directly, by calling <a href="../ScriptReference/UIElements.INotifyValueChangedExtensions.RegisterValueChangedCallback.html">RegisterValueChangedCallback</a>. This is a more convenient way to register a callback because the type is already built-in. You can unregister event handlers again by calling <code>myElement.UnregisterValueChangedCallback</code>.</p>

<pre><code class="lang-csharp">var newToggle = new Toggle(&quot;Test Toggle&quot;);
newToggle.RegisterValueChangedCallback(OnTestToggleChanged);
</code></pre>

<pre><code class="lang-csharp">private void OnTestToggleChanged(ChangeEvent&lt;bool&gt; evt)
{ 
    // Handling code
}
</code></pre>

<p>
<strong><code>target</code></strong>: The element where the change of state occurs.</p>

<h2>Examples</h2>

<p>The following examples demonstrate the usage of <code>ChangeEvent</code> and how to set and get a control value.</p>

<p>To view an example, do the following:</p>

<ol>
<li>Under <strong>Assets</strong> &gt; <strong>Scripts</strong> &gt; <strong>Editor</strong>, create a C# script called ChangeEventTestWindow.</li>
<li>Copy the example code into the C# script.</li>
<li>From the Editor Toolbar, select <strong>Window</strong> &gt; <strong>UI Toolkit</strong> &gt; <strong>Change Events Test Window</strong>
</li>
</ol>

<h3>Example 1: Registering callbacks to the receive change events</h3>

<pre><code class="lang-csharp">using UnityEditor;
using UnityEngine;
using UnityEngine.UIElements;

public class ChangeEventTestWindow : EditorWindow
{
    private Toggle m_MyToggle;

    [MenuItem(&quot;Window/UI Toolkit/Change Event Test Window&quot;)]
    public static void ShowExample()
    {
        ChangeEventTestWindow wnd = GetWindow&lt;ChangeEventTestWindow&gt;();
        wnd.titleContent = new GUIContent(&quot;Change Event Test Window&quot;);
    }

    public void CreateGUI()
    {
        // Create a toggle
        m_MyToggle = new Toggle(&quot;Test Toggle&quot;) { name = &quot;My Toggle&quot; };
        rootVisualElement.Add(m_MyToggle);

        // Register a callback on the toggle
        m_MyToggle.RegisterValueChangedCallback(OnTestToggleChanged);

        // Register a callback on the parent
        rootVisualElement.RegisterCallback&lt;ChangeEvent&lt;bool&gt;&gt;(OnBoolChangedEvent);
    }

    private void OnBoolChangedEvent(ChangeEvent&lt;bool&gt; evt)
    {
        Debug.Log($&quot;Toggle changed. Old value: {evt.previousValue}, new value: {evt.newValue}&quot;);
    }

    private void OnTestToggleChanged(ChangeEvent&lt;bool&gt; evt)
    {
        Debug.Log($&quot;A bool value changed. Old value: {evt.previousValue}, new value: {evt.newValue}&quot;);
    }
}
</code></pre>

<h3>Example 2: Setting a control value through code</h3>

<pre><code class="lang-csharp">using UnityEditor;
using UnityEngine;
using UnityEngine.UIElements;

public class ChangeEventTestWindow : EditorWindow
{
    private Toggle m_MyToggle;

    [MenuItem(&quot;Window/UI Toolkit/Change Event Test Window&quot;)]
    public static void ShowExample()
    {
        GetWindow&lt;ChangeEventTestWindow&gt;().titleContent = new GUIContent(&quot;Change Event Test Window&quot;);
    }

    public void CreateGUI()
    {
        // Create a toggle and register callback 
        m_MyToggle = new Toggle(&quot;Test Toggle&quot;) { name = &quot;My Toggle&quot; };
        m_MyToggle.RegisterValueChangedCallback((evt) =&gt; { Debug.Log(&quot;Change Event received&quot;); });
        rootVisualElement.Add(m_MyToggle);

        // Create button to toggle the toggle's value
        Button button01 = new Button() { text = &quot;Toggle&quot; };
        button01.clicked += () =&gt; 
        {
            m_MyToggle.value = !m_MyToggle.value;
        };
        rootVisualElement.Add(button01);

        // Create button to toggle the toggle's value without triggering a ChangeEvent
        Button button02 = new Button() { text = &quot;Toggle without notification&quot; };
        button02.clicked += () =&gt;
        {
            m_MyToggle.SetValueWithoutNotify(!m_MyToggle.value);
        };
        rootVisualElement.Add(button02);
    }
}
</code></pre>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-Capture-Events.html"></a></span><div class="tip"> Capture events</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-Command-Events.html"></a></span><div class="tip"> Command events</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2021 Unity Technologies. Publication Date: 2021-12-17.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
